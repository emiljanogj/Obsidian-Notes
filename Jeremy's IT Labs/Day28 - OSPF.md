#OSPF_Routing 
***
There are three main OSPF network types:
- **Broadcast**
	- enabled by default on Ethernet and FDDI (Fiber Distributed Data Interfaces) interfaces
- **Point-to-point**
	- enabled by default on PPP (Point-to-Point Protocol) and HDLC (High-Level Data Link
	   Control) interfaces
- **Non-broadcast**
	- enabled by default on **Frame Relay** and **X.25** interfaces


#### OSPF Broadcast Network Type
![[Pasted image 20230901130522.png]]
- Enabled on **Etherned** and **FDDI** interfaces by default
- Routers dynamically discover neighbors by sending/listening for OSPF Hello messages using the multicast address `224.0.0.5`
- A **DR** and **BDR** must be elected on each subnet(only DR if there are no neighbors)
- Routers which aren't **DR** or **BDR** become neighbours

*Note*: **DR** and **BDR** are elected based on the following 2 criteria(listed based on their priority):
1. Highest OSPF interface priority
2. Highest OSPF router ID

- When the **DR** goes down it will be replaced by the **BDR** and an election will be held for the **BDR**.
- In the broadcast network type routers only exchange their LSAs with the **DR** and **BDR**.
- **DROthers** will not exchange **LSAs** with one another
- Messages to **DR/BDR** are multicast via `224.0.0.6`


#### Point-to-Point Network Type
![[Pasted image 20230901132631.png]]
- Enabled on **serial** interfaces using the **PPP** or **HDLC** encapsulations by default
- No **DR/BDR** elected since it is used for point to point connections

#### Serial Interfaces
![[Pasted image 20230901132902.png]]
- One side functions as **DCE(Data Communications Equipment)**
- The other side functions as **DTE(Data Terminal Equipment)**
- The **DCE** side needs to specify the clock rate(speed) of the connection
- The default encapsulation IS HDLC.
- You can configure PPP encapsulation with this command
```
R1(config-if)# encapsulation ppp
```
- One side is DCE, one side is DTE.
- Identify which side is DCE/DTE:
```
RI# show controllers interface-id
```
 - You must configure the clock rate on the DCE side:
```
RI(config-if)# clock rate bits-per-second
```

#### OSPF Neighbour Requirements

- Area number must match
- Interfaces must be in the same subnet
-  OSPF process must not be shut down
- OSPF Router IDs must be unique
- Hello and Dead timers must match
- Authentication settings must match
- IP MTU settings must match
- OSPF Network Type must match.

#### LSA Types

- **Type 1 (Router LSA)**
	- Every OSPF router generates this type of LSA.
	- It identifies the router using its router ID.
	- It also lists networks attached to the router's OSPF-activated interfaces.
- **Type 2 (Network LSA)**
	- Generated by the DR of each 'multi-access' network (ie. the broadcast network type).
	- Lists the routers which are attached to the multi-access network.
- **Type 5 (AS-External LSA)**
	- Generated by ASBRs to describe routes to destinations outside of the AS (OSPF domain).
